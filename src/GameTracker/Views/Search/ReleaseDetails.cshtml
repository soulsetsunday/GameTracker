@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
    date format:September 30, 2009
*@
@{
}
@model GameTracker.ViewModels.ReleaseDetailsViewModel

@if (Model != null)
{
    <form asp-controller="Search" asp-action="AddGame" method="post">
        <ul>
        @foreach (var d in Model.ReleaseDates)
        {
            <li><input type="radio" name="date" value="@d">@d</li>
        }
            </ul>
        <input type="hidden" name="gameid" value="@Model.GameID" />
        <input type="hidden" name="platformid" value="@Model.PlatformID" />
        <input type="submit" value="Select Date" />
    </form>
}

@*<form asp-controller="Search" asp-action="Results" method="post">
    <input type="text" name="searchstring">
    <input type="submit" value="Search" />
</form>

@if (Model != null)
{
    <form asp-controller="Search" asp-action="AddGame" method="post">
        <div class="table">
            <div class="thead">
                <div class="tr">
                    <div class="td">Name</div>
                    <div class="td">Release Date</div>
                    <div class="td">Platform</div>
                    <div class="td"></div>
                </div>
            </div>
            @foreach (var g in Model.Results)
                {
                @if (g.Platforms != null)
                    {
                    <div class="tr">
                        <div class="td"> <input type="radio" name="gameid" value="@g.id">@g.Name   </div>
                        @if (DateTime.TryParseExact(g.Original_release_date, "yyyy-MM-dd hh:mm:ss", DateTimeFormatInfo.CurrentInfo, @DateTimeStyles.None, out thisDay))
                        {
                            <div class="td">@thisDay.ToString("MMMM dd, yyyy")</div>
                        }
                        else
                        {
                            <div class="td">@g.Original_release_date</div>
                        }
                        <div class="td">
                            <select name="platformid">
                                <option selected disabled hidden style='display: none' value=''> -- select an option -- </option>
                                @foreach (var p in g.Platforms)
                                {
                                    <option value="@p.ID">@p.Name</option>
                                }
                            </select>
                        </div>
                        <div class="td"><img src="@g.Image.Icon_url"></div>
                    </div>
                }
            }
        </div>
        <input type="submit" value="Add Game" />
    </form>*@